"use strict";(self["webpackChunkagent"]=self["webpackChunkagent"]||[]).push([[307],{8307:function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("vue-fab",{attrs:{mainBtnColor:e.mainBtnColor}},e._l(e.menu,(function(t,n){return o("fab-item",{key:n,attrs:{idx:n,title:t.title,color:t.color,icon:t.icon},on:{clickItem:e.clickItem}})})),1),o("input",{ref:"uploader",staticStyle:{display:"none"},attrs:{type:"file",multiple:"multiple"},on:{change:e.inputChanged}})],1)},i=[],a={name:"FabMenu",components:{},data(){return{files:[],menu:[{icon:"psychology",title:"Add a neurone",color:"#9900ff"},{icon:"add_photo_alternate",title:"Add a media",color:"#ff9900"},{icon:"toc",title:"External source",color:"#ff0099"}],mainBtnColor:"#3eaf7c"}},methods:{clickItem:function(e){switch(e.idx){case 0:this.$store.dispatch("core/newNode");break;case 1:this.$refs.uploader.click();break;case 2:this.$bvModal.show("modal-external-source");break;default:window.alert(e.idx)}},async processFiles(){console.log(this.files);let e=this;const t=Array.from(this.files).map((async function(t){return console.log(t),e.$spinnerAdd({id:"loading "+t.name}),new Promise((function(o,n){const i=new FileReader;i.readAsDataURL(t),i.onload=async function(){t.base64=await i.result,console.log(t);let n=await e.$newNode(t);await e.$store.dispatch("core/saveNode",n),e.$spinnerRemove({id:"loading "+t.name}),o(n)},i.onerror=function(e){console.log("Error: ",e),n(e)}}))}));let o=await Promise.all(t);console.log(o),this.files=[],await this.$store.dispatch("core/getNodes")},inputChanged(){this.files=this.$refs.uploader.files}},watch:{files(){this.files.length>0&&this.processFiles()}}},l=a,s=o(1001),r=(0,s.Z)(l,n,i,!1,null,null,null),c=r.exports}}]);
//# sourceMappingURL=307.e46dcdf0.js.map