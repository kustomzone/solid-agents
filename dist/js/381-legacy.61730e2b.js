"use strict";(self["webpackChunkagent"]=self["webpackChunkagent"]||[]).push([[381],{91381:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("vue-fab",{attrs:{mainBtnColor:e.mainBtnColor}},e._l(e.menu,(function(n,r){return t("fab-item",{key:r,attrs:{idx:r,title:n.title,color:n.color,icon:n.icon},on:{clickItem:e.clickItem}})})),1),t("input",{ref:"uploader",staticStyle:{display:"none"},attrs:{type:"file"}})],1)},o=[],a=t(16198),i=(t(78975),t(21249),t(68309),t(41539),t(78783),t(33948),{name:"FabMenu",components:{},data:function(){return{files:[],menu:[{icon:"psychology",title:"Add a neurone",color:"#9900ff"},{icon:"add_photo_alternate",title:"Add a media",color:"#ff9900"},{icon:"toc",title:"External source",color:"#ff0099"}],mainBtnColor:"#3eaf7c"}},methods:{clickItem:function(e){switch(e.idx){case 0:this.$store.dispatch("core/newNode");break;case 1:this.$refs.uploader.click();break;case 2:this.$bvModal.show("modal-external-source");break;default:window.alert(e.idx)}},processFiles:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var t,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(e.files),t=e,r=e.files.map(function(){var e=(0,a.Z)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(n),t.$spinnerAdd({id:"loading "+n.name}),e.abrupt("return",new Promise((function(e,r){var o=new FileReader;o.readAsDataURL(n),o.onload=(0,a.Z)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,o.result;case 2:return n.base64=r.sent,console.log(n),r.next=6,t.$newNode(n);case 6:return a=r.sent,r.next=9,t.$store.dispatch("core/saveNode",a);case 9:t.$spinnerRemove({id:"loading "+n.name}),e(a);case 11:case"end":return r.stop()}}),r)}))),o.onerror=function(e){console.log("Error: ",e),r(e)}})));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),n.next=5,Promise.all(r);case 5:return o=n.sent,console.log(o),e.files=[],n.next=10,e.$store.dispatch("core/getNodes");case 10:case"end":return n.stop()}}),n)})))()}},watch:{files:function(){this.files.length>0&&this.processFiles()}}}),s=i,c=t(1001),l=(0,c.Z)(s,r,o,!1,null,null,null),u=l.exports}}]);
//# sourceMappingURL=381-legacy.61730e2b.js.map