{"version":3,"file":"js/486.53930c1a.js","mappings":"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","sources":["webpack://agent/./src/views/NodeEdition.vue?649f","webpack://agent/src/views/NodeEdition.vue","webpack://agent/./src/views/NodeEdition.vue?efcd","webpack://agent/./src/views/NodeEdition.vue","webpack://agent/./src/mixins/ToastMixin.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.tempNode != null)?_c('b-container',[_c('div',[_c('b-button-toolbar',{attrs:{\"key-nav\":\"\",\"aria-label\":\"Toolbar with button groups\"}},[_c('b-button-group',{staticClass:\"mx-1\"},[_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-1\",modifiers:{\"collapse-1\":true}}],attrs:{\"variant\":\"primary\"}},[_c('b-icon-pen')],1),_c('b-button',{attrs:{\"size\":\"sm mr-2\",\"variant\":\"outline-success\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.copy.apply(null, arguments)}}},[_c('b-icon-clipboard-plus')],1)],1),_c('b-button-group',{staticClass:\"mx-1\"},[_c('b-form-input',{attrs:{\"type\":\"color\",\"size\":\"sm\"},model:{value:(_vm.tempNode.color),callback:function ($$v) {_vm.$set(_vm.tempNode, \"color\", $$v)},expression:\"tempNode.color\"}}),_c('b-form-select',{attrs:{\"options\":_vm.options,\"size\":\"sm\"},model:{value:(_vm.tempNode.shape),callback:function ($$v) {_vm.$set(_vm.tempNode, \"shape\", $$v)},expression:\"tempNode.shape\"}})],1),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.remove}},[_c('b-icon-trash')],1)],1)],1),_c('b-collapse',{staticClass:\"mt-2\",attrs:{\"id\":\"collapse-1\",\"visible\":\"\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"name\"},model:{value:(_vm.tempNode.name),callback:function ($$v) {_vm.$set(_vm.tempNode, \"name\", $$v)},expression:\"tempNode.name\"}}),_c('b-form-input',{attrs:{\"placeholder\":\"type\"},model:{value:(_vm.tempNode.type),callback:function ($$v) {_vm.$set(_vm.tempNode, \"type\", $$v)},expression:\"tempNode.type\"}}),_vm._l((Object.keys(_vm.currentNode)),function(p){return _c('div',{key:p},[(!_vm.jsonldProps.includes(p) && !_vm.graphProps.includes(p) && p != 'reverse')?_c('div',[_c('PropertieView',{attrs:{\"p\":p,\"v\":_vm.currentNode[p]}})],1):_vm._e()])}),(_vm.currentNode.reverse != undefined)?_c('div',[_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-backlinks\",modifiers:{\"collapse-backlinks\":true}}],attrs:{\"size\":\"sm\",\"variant\":\"light\"}},[_vm._v(\"Backlinks\")]),_c('b-collapse',{staticClass:\"mt-2\",attrs:{\"id\":\"collapse-backlinks\"}},_vm._l((Object.keys(_vm.currentNode.reverse)),function(p,j){return _c('div',{key:j},[_c('PropertieView',{attrs:{\"p\":p,\"v\":_vm.currentNode.reverse[p]}})],1)}),0)],1):_vm._e(),_c('b-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"Cancel\")]),_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")]),_c('hr')],2)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-container v-if=\"tempNode != null\">\n\n      <div>\n        <b-button-toolbar key-nav aria-label=\"Toolbar with button groups\">\n          <b-button-group class=\"mx-1\">\n            <b-button v-b-toggle.collapse-1 variant=\"primary\"><b-icon-pen></b-icon-pen><!-- {{tempNode.name || tempNode.id}}--></b-button>\n            <b-button @click.stop=\"copy\"  size=\"sm mr-2\" variant=\"outline-success\"><b-icon-clipboard-plus></b-icon-clipboard-plus></b-button>\n\n          </b-button-group>\n          <b-button-group class=\"mx-1\">\n            <b-form-input type=\"color\" v-model=\"tempNode.color\" size=\"sm\"></b-form-input>\n            <b-form-select v-model=\"tempNode.shape\" :options=\"options\" size=\"sm\"></b-form-select>\n\n            <!--\n            <b-button>Edit</b-button>\n            <b-button>Undo</b-button>\n            <b-button>Redo</b-button> -->\n          </b-button-group>\n          <b-button @click=\"remove\" variant=\"danger\"><b-icon-trash></b-icon-trash> <!--{{tempNode.name || tempNode.id}}--></b-button>\n\n          <!-- <b-button-group class=\"mx-1\">\n          <b-button>&rsaquo;</b-button>\n          <b-button>&raquo;</b-button>\n        </b-button-group> -->\n      </b-button-toolbar>\n    </div>\n\n\n\n    <!-- <b-row>\n    <b-col >\n    <b-button v-b-toggle.collapse-1 variant=\"primary\">Edit {{tempNode.name || tempNode.id}}</b-button>\n    <b-button @click.stop=\"copy\"  size=\"sm mr-2\" variant=\"outline-success\"><b-icon-clipboard-plus></b-icon-clipboard-plus></b-button>\n  </b-col>\n\n  <b-col >\n  <b-button @click=\"remove\" variant=\"danger\">Remove {{tempNode.name || tempNode.id}}</b-button>\n</b-col>\n</b-row> -->\n\n<b-collapse id=\"collapse-1\" visible class=\"mt-2\">\n\n  <!-- <b-row>\n\n  <b-col md=\"10\">\n  <b-row>\n  <b-col cols=\"10\"> -->\n  <b-form-input v-model=\"tempNode.name\" placeholder=\"name\"></b-form-input>\n  <!-- </b-col>\n  <b-col cols=\"6\" md=\"2\">\n\n  <b-form-input type=\"color\" v-model=\"tempNode.color\" size=\"sm\"></b-form-input>\n</b-col>\n</b-row>\n<b-row>\n<b-col cols=\"10\"> -->\n<b-form-input v-model=\"tempNode.type\" placeholder=\"type\"></b-form-input>\n<!-- </b-col>\n<b-col cols=\"6\" md=\"2\"> -->\n\n<!-- </b-col>\n</b-row> -->\n\n<div v-for=\"p in Object.keys(currentNode)\" :key=\"p\">\n\n  <div v-if=\"!jsonldProps.includes(p) && !graphProps.includes(p) && p != 'reverse'\">\n    <PropertieView :p=\"p\" :v=\"currentNode[p]\"/>\n  </div>\n</div>\n<!-- </b-col>\n\n<b-col> -->\n\n  <div v-if=\"currentNode.reverse != undefined\">\n    <b-button size=\"sm\" v-b-toggle.collapse-backlinks variant=\"light\">Backlinks</b-button>\n    <b-collapse id=\"collapse-backlinks\" class=\"mt-2\">\n\n      <div v-for=\"(p, j) in Object.keys(currentNode.reverse)\" :key=\"j\">\n        <PropertieView :p=\"p\" :v=\"currentNode.reverse[p]\"/>\n      </div>\n    </b-collapse>\n  </div>\n<!-- </b-col>\n</b-row> -->\n\n<b-button @click=\"cancel\">Cancel</b-button>\n<b-button @click=\"save\" variant=\"success\">Save</b-button>\n<hr>\n</b-collapse>\n\n</b-container>\n</div>\n</template>\n\n<script>\nimport ToastMixin from '@/mixins/ToastMixin'\n\nexport default {\n  name: \"NodeEdition\",\n  mixins: [ToastMixin],\n  components: {\n    'PropertieView': ()=>import('@/views/PropertieView'),\n  },\n  data(){\n    return {\n      tempNode: null,\n      graphProps: ['__threeObj', '__obj__','index', 'x', 'y', 'z', 'vx', 'vy', 'vz'],\n      jsonldProps: ['@context', 'id'],\n      //selected_shape: null,\n      options: [\n        { value: undefined, text: 'shape' },\n        { value: 'sphere', text: 'sphere' },\n        { value: 'box', text: 'box' },\n        { value: 'cone', text: 'cone' },\n        { value: 'cylinder', text: 'cylinder' },\n        { value: 'dodecahedron', text: 'dodecahedron' },\n        { value: 'torus', text: 'torus' },\n        { value: 'torusKnot', text: 'torus Knot' },\n      ],\n\n    }\n  },\n\n  methods:{\n    async save(){\n      console.log(this.tempNode)\n      await this.$store.dispatch('core/saveNode', this.tempNode)\n      await this.$store.dispatch('core/getNodes') // pose problème de rafraichissement, certainement car on a enlevé __ob & __threeObj\n      this.$store.commit('core/setCurrentNode', null)\n    },\n    cancel(){\n      this.$store.commit('core/setCurrentNode', null)\n    },\n    async remove(){\n      if (confirm('Are you sure you want to remove this node?')) {\n        // Save it!\n        console.log('ok to remove.', this.tempNode);\n        await this.$store.dispatch('core/removeNode', this.tempNode)\n        this.$store.commit('core/setCurrentNode', null)\n      }\n    },\n    copy(){\n      console.log(this.tempNode)\n      let id = this.tempNode.id.startsWith('http') ? this.tempNode.id : this.tempNode['@context']['@base']+this.tempNode.id\n      console.log(\"id\", id)\n      let copyText = id //window.location.href\n      let app = this\n      //  !copyText.endsWith(\".ttl\") ?\n      //copyText = copyText+this.file.url //: \"\"\n      //  console.log(copyText)\n      navigator.clipboard.writeText(copyText).then(function() {\n        /* clipboard successfully set */\n        //  console.log(\"clipok\", copyText)\n        app.makeToast(\"The id is in your clipboard ;-)\", copyText+\". Use Ctrl+V to use it\", \"success\")\n      }, function() {\n        /* clipboard write failed */\n        //  console.log(\"clipERROR\", copyText)\n        app.makeToast(\"Houston, we've got a problem with the clipboard ;-(\", copyText, \"warning\")\n      })\n\n    }\n\n\n  },\n  watch:{\n    currentNode(){\n      this.tempNode = this.currentNode\n    },\n    files(){\n      this.processFiles()\n    },\n    // tempNode(){\n    //   if (this.tempNode.shape == undefined || this.tempNode.shape == null ){\n    //     delete this.tempNode.shape\n    //   }\n    //\n    // }\n  },\n  computed: {\n    currentNode() {\n      return this.$store.state.core.currentNode\n    },\n    graph() {\n      return this.$store.state.core.graph\n    },\n  },\n\n\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NodeEdition.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NodeEdition.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NodeEdition.vue?vue&type=template&id=e589dfaa&scoped=true&\"\nimport script from \"./NodeEdition.vue?vue&type=script&lang=js&\"\nexport * from \"./NodeEdition.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e589dfaa\",\n  null\n  \n)\n\nexport default component.exports","export default {\n  methods: {\n    makeToast(title, content, variant = null) {\n      this.$bvToast.toast(content , {\n        title: title,\n        variant: variant,\n        solid: true\n      })\n    }\n  }\n}\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","tempNode","attrs","staticClass","directives","name","rawName","modifiers","on","$event","stopPropagation","copy","apply","arguments","model","value","callback","$$v","$set","expression","options","remove","_l","Object","keys","currentNode","p","key","jsonldProps","includes","graphProps","_e","undefined","reverse","_v","j","cancel","save","staticRenderFns","mixins","components","data","text","methods","console","navigator","app","watch","files","computed","graph","component","makeToast","title","content","variant","$bvToast","toast","solid"],"sourceRoot":""}