"use strict";(self["webpackChunkagent"]=self["webpackChunkagent"]||[]).push([[118],{1118:function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("vue-fab",{attrs:{mainBtnColor:e.mainBtnColor}},e._l(e.menu,(function(t,i){return o("fab-item",{key:i,attrs:{idx:i,title:t.title,color:t.color,icon:t.icon},on:{clickItem:e.clickItem}})})),1),o("input",{ref:"uploader",staticStyle:{display:"none"},attrs:{type:"file",multiple:"multiple"},on:{change:e.inputChanged}})],1)},n=[],l={name:"FabMenu",components:{},data(){return{files:[],menu:[{icon:"psychology",title:"Add a neurone",color:"#9900ff"},{icon:"add_photo_alternate",title:"Add a media",color:"#ff9900"},{icon:"toc",title:"External source",color:"#ff0099"},{icon:"terminal",title:"Terminal",color:"#999999"}],mainBtnColor:"#3eaf7c"}},methods:{clickItem:function(e){switch(e.idx){case 0:this.$store.dispatch("core/newNode");break;case 1:this.$refs.uploader.click();break;case 2:this.$bvModal.show("modal-external-source");break;case 3:this.$store.commit("terminal/toggleTerminal");break;default:window.alert(e.idx)}},async processFiles(){console.log(this.files);let e=this;const t=Array.from(this.files).map((async function(t){return console.log(t),e.$spinnerAdd({id:"loading "+t.name}),new Promise((function(o,i){const n=new FileReader;n.readAsDataURL(t),n.onload=async function(){t.base64=await n.result,console.log(t);let i=await e.$newNode(t);await e.$store.dispatch("core/saveNode",i),e.$spinnerRemove({id:"loading "+t.name}),o(i)},n.onerror=function(e){console.log("Error: ",e),i(e)}}))}));let o=await Promise.all(t);console.log(o),this.files=[],await this.$store.dispatch("core/getNodes"),console.log(o[0].id);let i=o[0].id,n=await this.$store.state.core.nodes.find((e=>e.id==i));this.$store.commit("core/setCurrentNode",n)},inputChanged(){this.files=this.$refs.uploader.files}},watch:{files(){this.files.length>0&&this.processFiles()}}},a=l,s=o(1001),r=(0,s.Z)(a,i,n,!1,null,null,null),c=r.exports}}]);
//# sourceMappingURL=118.9925e05b.js.map