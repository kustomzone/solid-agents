{"version":3,"file":"js/325-legacy.e17b5918.js","mappings":"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","sources":["webpack://agent/./src/views/NodeEdition.vue?92a6","webpack://agent/src/views/NodeEdition.vue","webpack://agent/./src/views/NodeEdition.vue?efcd","webpack://agent/./src/views/NodeEdition.vue","webpack://agent/./src/mixins/ToastMixin.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.tempNode != null)?_c('b-container',[_c('b-row',[_c('b-col',[_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-1\",modifiers:{\"collapse-1\":true}}],attrs:{\"variant\":\"primary\"}},[_vm._v(\"Edit \"+_vm._s(_vm.tempNode.name || _vm.tempNode.id))]),_c('b-button',{attrs:{\"size\":\"sm mr-2\",\"variant\":\"outline-success\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.copy.apply(null, arguments)}}},[_c('b-icon-clipboard-plus')],1)],1),_c('b-col',[_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.remove}},[_vm._v(\"Remove \"+_vm._s(_vm.tempNode.name || _vm.tempNode.id))])],1)],1),_c('b-collapse',{staticClass:\"mt-2\",attrs:{\"id\":\"collapse-1\",\"visible\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"10\"}},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"10\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"name\"},model:{value:(_vm.tempNode.name),callback:function ($$v) {_vm.$set(_vm.tempNode, \"name\", $$v)},expression:\"tempNode.name\"}})],1),_c('b-col',{attrs:{\"cols\":\"6\",\"md\":\"2\"}},[_c('b-form-input',{attrs:{\"type\":\"color\",\"size\":\"sm\"},model:{value:(_vm.tempNode.color),callback:function ($$v) {_vm.$set(_vm.tempNode, \"color\", $$v)},expression:\"tempNode.color\"}})],1)],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"10\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"type\"},model:{value:(_vm.tempNode.type),callback:function ($$v) {_vm.$set(_vm.tempNode, \"type\", $$v)},expression:\"tempNode.type\"}})],1),_c('b-col',{attrs:{\"cols\":\"6\",\"md\":\"2\"}},[_c('b-form-select',{attrs:{\"options\":_vm.options,\"size\":\"sm\"},model:{value:(_vm.tempNode.shape),callback:function ($$v) {_vm.$set(_vm.tempNode, \"shape\", $$v)},expression:\"tempNode.shape\"}})],1)],1),_vm._l((Object.keys(_vm.currentNode)),function(p){return _c('div',{key:p},[(!_vm.jsonldProps.includes(p) && !_vm.graphProps.includes(p) && p != 'reverse')?_c('div',[_c('PropertieView',{attrs:{\"p\":p,\"v\":_vm.currentNode[p]}})],1):_vm._e()])})],2),_c('b-col',[(_vm.currentNode.reverse != undefined)?_c('div',[_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-backlinks\",modifiers:{\"collapse-backlinks\":true}}],attrs:{\"size\":\"sm\",\"variant\":\"light\"}},[_vm._v(\"Backlinks\")]),_c('b-collapse',{staticClass:\"mt-2\",attrs:{\"id\":\"collapse-backlinks\"}},_vm._l((Object.keys(_vm.currentNode.reverse)),function(p,j){return _c('div',{key:j},[_c('PropertieView',{attrs:{\"p\":p,\"v\":_vm.currentNode.reverse[p]}})],1)}),0)],1):_vm._e()])],1),_c('hr'),_c('b-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"Cancel\")]),_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-container v-if=\"tempNode != null\">\n\n      <b-row>\n        <b-col >\n          <b-button v-b-toggle.collapse-1 variant=\"primary\">Edit {{tempNode.name || tempNode.id}}</b-button>\n          <b-button @click.stop=\"copy\"  size=\"sm mr-2\" variant=\"outline-success\"><b-icon-clipboard-plus></b-icon-clipboard-plus></b-button>\n        </b-col>\n\n        <b-col >\n          <b-button @click=\"remove\" variant=\"danger\">Remove {{tempNode.name || tempNode.id}}</b-button>\n        </b-col>\n      </b-row>\n\n      <b-collapse id=\"collapse-1\" visible class=\"mt-2\">\n\n        <b-row>\n\n          <b-col md=\"10\">\n            <b-row>\n              <b-col cols=\"10\">\n                <b-form-input v-model=\"tempNode.name\" placeholder=\"name\"></b-form-input>\n              </b-col>\n              <b-col cols=\"6\" md=\"2\">\n\n                <b-form-input type=\"color\" v-model=\"tempNode.color\" size=\"sm\"></b-form-input>\n              </b-col>\n            </b-row>\n            <b-row>\n              <b-col cols=\"10\">\n                <b-form-input v-model=\"tempNode.type\" placeholder=\"type\"></b-form-input>\n              </b-col>\n              <b-col cols=\"6\" md=\"2\">\n\n                <b-form-select v-model=\"tempNode.shape\" :options=\"options\" size=\"sm\"></b-form-select>\n              </b-col>\n            </b-row>\n\n            <div v-for=\"p in Object.keys(currentNode)\" :key=\"p\">\n\n              <div v-if=\"!jsonldProps.includes(p) && !graphProps.includes(p) && p != 'reverse'\">\n                <PropertieView :p=\"p\" :v=\"currentNode[p]\"/>\n              </div>\n            </div>\n          </b-col>\n\n          <b-col>\n\n            <div v-if=\"currentNode.reverse != undefined\">\n              <b-button size=\"sm\" v-b-toggle.collapse-backlinks variant=\"light\">Backlinks</b-button>\n              <b-collapse id=\"collapse-backlinks\" class=\"mt-2\">\n\n                <div v-for=\"(p, j) in Object.keys(currentNode.reverse)\" :key=\"j\">\n                  <PropertieView :p=\"p\" :v=\"currentNode.reverse[p]\"/>\n                </div>\n              </b-collapse>\n            </div>\n          </b-col>\n        </b-row>\n        <hr>\n        <b-button @click=\"cancel\">Cancel</b-button>\n        <b-button @click=\"save\" variant=\"success\">Save</b-button>\n\n      </b-collapse>\n\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport ToastMixin from '@/mixins/ToastMixin'\n\nexport default {\n  name: \"NodeEdition\",\n  mixins: [ToastMixin],\n  components: {\n    'PropertieView': ()=>import('@/views/PropertieView'),\n  },\n  data(){\n    return {\n      tempNode: null,\n      graphProps: ['__threeObj', '__obj__','index', 'x', 'y', 'z', 'vx', 'vy', 'vz'],\n      jsonldProps: ['@context', 'id'],\n      //selected_shape: null,\n      options: [\n        { value: undefined, text: 'shape' },\n        { value: 'sphere', text: 'sphere' },\n        { value: 'box', text: 'box' },\n        { value: 'cone', text: 'cone' },\n        { value: 'cylinder', text: 'cylinder' },\n        { value: 'dodecahedron', text: 'dodecahedron' },\n        { value: 'torus', text: 'torus' },\n        { value: 'torusKnot', text: 'torus Knot' },\n      ],\n\n    }\n  },\n\n  methods:{\n    async save(){\n      console.log(this.tempNode)\n      await this.$store.dispatch('core/saveNode', this.tempNode)\n      await this.$store.dispatch('core/getNodes') // pose problème de rafraichissement, certainement car on a enlevé __ob & __threeObj\n      this.$store.commit('core/setCurrentNode', null)\n    },\n    cancel(){\n      this.$store.commit('core/setCurrentNode', null)\n    },\n    async remove(){\n      if (confirm('Are you sure you want to remove this node?')) {\n        // Save it!\n        console.log('ok to remove.', this.tempNode);\n        await this.$store.dispatch('core/removeNode', this.tempNode)\n        this.$store.commit('core/setCurrentNode', null)\n      }\n    },\n    copy(){\n      console.log(this.tempNode)\n      let id = this.tempNode.id.startsWith('http') ? this.tempNode.id : this.tempNode['@context']['@base']+this.tempNode.id\n      console.log(\"id\", id)\n      let copyText = id //window.location.href\n      let app = this\n      //  !copyText.endsWith(\".ttl\") ?\n      //copyText = copyText+this.file.url //: \"\"\n      //  console.log(copyText)\n      navigator.clipboard.writeText(copyText).then(function() {\n        /* clipboard successfully set */\n        //  console.log(\"clipok\", copyText)\n        app.makeToast(\"The id is in your clipboard ;-)\", copyText+\". Use Ctrl+V to use it\", \"success\")\n      }, function() {\n        /* clipboard write failed */\n        //  console.log(\"clipERROR\", copyText)\n        app.makeToast(\"Houston, we've got a problem with the clipboard ;-(\", copyText, \"warning\")\n      })\n\n    }\n\n\n  },\n  watch:{\n    currentNode(){\n      this.tempNode = this.currentNode\n      console.log(this.tempNode)\n    },\n    files(){\n      this.processFiles()\n    },\n    // tempNode(){\n    //   if (this.tempNode.shape == undefined || this.tempNode.shape == null ){\n    //     delete this.tempNode.shape\n    //   }\n    //\n    // }\n  },\n  computed: {\n    currentNode() {\n      return this.$store.state.core.currentNode\n    },\n    graph() {\n      return this.$store.state.core.graph\n    },\n  },\n\n\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NodeEdition.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NodeEdition.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NodeEdition.vue?vue&type=template&id=e84630cc&scoped=true&\"\nimport script from \"./NodeEdition.vue?vue&type=script&lang=js&\"\nexport * from \"./NodeEdition.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e84630cc\",\n  null\n  \n)\n\nexport default component.exports","export default {\n  methods: {\n    makeToast(title, content, variant = null) {\n      this.$bvToast.toast(content , {\n        title: title,\n        variant: variant,\n        solid: true\n      })\n    }\n  }\n}\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","tempNode","directives","name","rawName","modifiers","attrs","_v","_s","id","on","$event","stopPropagation","copy","apply","arguments","remove","staticClass","model","value","callback","$$v","$set","expression","options","_l","Object","keys","currentNode","p","key","jsonldProps","includes","graphProps","_e","undefined","reverse","j","cancel","save","staticRenderFns","mixins","components","data","text","methods","console","confirm","navigator","app","watch","files","computed","graph","component","makeToast","title","content","variant","$bvToast","toast","solid"],"sourceRoot":""}